4:I[39275,[],""]
5:I[61343,[],""]
0:["g6oKHyFxGP76cngCE6NpZ",[[["",{"children":["articles",{"children":[["slug","front-end-observability","d"],{"children":["__PAGE__?{\"slug\":\"front-end-observability\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["articles",{"children":[["slug","front-end-observability","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$L3",null],null]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","articles","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","className":"bg-stone-900 dark:bg-white __className_36bd41","children":[["$","head",null,{"children":[[["$","link",null,{"rel":"apple-touch-icon","sizes":"180x180","href":"/apple-touch-icon.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/favicon-32x32.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/favicon-16x16.png"}],["$","link",null,{"rel":"manifest","href":"/site.webmanifest"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#da532c"}],["$","meta",null,{"name":"theme-color","content":"#ffffff"}]],["$","link",null,{"rel":"stylesheet","href":"/css/prismjs/themes/prism.min.css","data-noprefix":true}],["$","script",null,{"src":"//embed.typeform.com/next/embed.js","defer":true}]]}],["$","body",null,{"className":"text-stone-950 dark:text-stone-50 relative overflow-y-visible flex flex-col sm:flex-row gap-16 bg-stone-100 dark:bg-stone-900 selection:bg-blue-100 dark:selection:bg-stone-700","children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4ee60fc4c49b900d.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/6fe5b7e9881d8040.css","precedence":"next","crossOrigin":"$undefined"}]],[null,"$L6"]]]]]
8:I[231,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],""]
9:I[93936,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],"MdxCode"]
a:I[38173,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],"Image"]
d:I[5781,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],"Tooltip"]
f:I[42016,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],"HeaderHamburger"]
10:I[49780,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],"HeaderNavItem"]
12:I[89133,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],"ThemeSwitch"]
b:{"marginTop":"2rem","marginBottom":"2rem"}
c:T42f,
  function ShareholderValueEditor({ companyId, shareholder }) {
    ...
    const handleClickSave = async (e) => {
      if (othersAndThisStakesSum <= 100) {
        ...
        const patchStakeResult = await patchShareholderStake({
          id: shareholder.id,
          stake,
        });

        captureEvent({
          message: "useShareholderStakeEditor/changeStakePatchCompleted",
          tags: event.tags,
          contexts: {
            ["useShareholderStakeEditor/changeStakePatchCompleted"]: {
              ...event.data,
              patchStakeResult,
            },
          },
        });

        const refetchShareholdersResult = await refetchShareholders();

        captureEvent({
          message: "useShareholderStakeEditor/changeStakeRefreshCompleted",
          tags: event.tags,
          contexts: {
            ["useShareholderStakeEditor/changeStakeRefreshCompleted"]: {
              ...event.data,
              refetchShareholdersResult,
            },
          },
        });
      } else {
        ...
      }
    }
    ...
  }
2:[["$","div",null,{"className":"\n  flex\n  flex-col\n  mb-8\n  gap-3\n","children":[["$","h2",null,{"className":"mt-5 text-2xl font-semibold","children":"Front end observability"}],["$","p",null,{"className":"\n  text-xs\n","children":"2 July 2023"}],["$","p",null,{"className":"\n  text-xs\n","children":[["$","span","software-development",{"className":"\n  mr-3\n  py-0.5\n  px-1\n  border\n  border-1\n  border-stone-400\n  rounded\n","children":"software-development"}]]}]]}],"$L7",["$","div",null,{"className":"mt-4","children":[["$","h2",null,{"className":"absolute -top-0 invisible mt-5 text-2xl font-semibold","id":"top","children":"Intro"}],["$","div",null,{"className":"fragment_fragment__EI5et","children":[["$","p",null,{"children":["I've been reading the book ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://info.honeycomb.io/observability-engineering-oreilly-book-2022","children":[["$","em",null,{"children":"Observability Engineering"}],false]}]," by Charity Majors and thinking about how to apply the ideas to front end development."]}],"\n",["$","p",null,{"children":["She describes the concept of a ",["$","strong",null,{"children":["$","em",null,{"children":"structured event"}]}]," - an event \"which captures everything that occurred while one particular request interacted with your service\" (Chapter 5)."]}],"\n",["$","p",null,{"children":["On the front end, a structured event might capture everything that happened during, say, a user interaction or receipt of an HTTP response. This might be done by placing logging calls at key points in the code, similar to how we might place ",["$","$L9",null,{"children":"console.log"}]," statements for local debugging."]}],"\n",["$","p",null,{"children":["In this article I'll give an overview of front-end observability with some examples using ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://sentry.io/","children":["Sentry",false]}],"."]}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"observability-on-the-front-end","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#observability-on-the-front-end","children":["Observability on the front end",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":["A key benefit of structured events (compared to unstructured logs) is that they can contain ",["$","em",null,{"children":["$","strong",null,{"children":"rich contextual data points"}]}],":"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"User events"}],", such as what value was entered into an input"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"HTTP events"}],", such as responses received from a backend"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Browser events"}],", such as location data"]}],"\n"]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/observability-points.svg","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Observability points for typical front end applications: HTTP, user and browser events","src":"/images/articles/front-end-observability/observability-points.svg","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Observability points for typical front end applications: HTTP, user and browser events"]}]]}]}],"\n",["$","p",null,{"children":["These data points are ",["$","em",null,{"children":["$","strong",null,{"children":"queryable"}]}]," and we can filter for them using the powerful querying facilities of monitoring platforms such as ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://sentry.io/","children":["Sentry",false]}],", ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"http://dynatrace.com","children":["DynaTrace",false]}],", ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM-custom-events.html","children":["AWS CloudWatch RUM",false]}],", and ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://learn.microsoft.com/en-us/azure/azure-monitor/logs/log-query-overview","children":["Azure Monitor",false]}],"."]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-error-sentry-query.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Querying structured logs in Sentry","src":"/images/articles/front-end-observability/example-stake-error-sentry-query.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Querying structured logs in Sentry"]}]]}]}],"\n",["$","p",null,{"children":"With structured logs in place, developers can \"ask\" arbitrary questions about how the application is behaving in production."}],"\n",["$","p",null,{"children":"We can pro-actively search for unanticipated bugs or diagnose difficult errors involving complex front end logic."}],"\n",["$","aside",null,{"className":"p-4 m-4 my-4 rounded rounded-md border border-stone-400 bg-stone-200 dark:bg-stone-800 *:first:pt-0","children":[["$","h4",null,{"className":"text-base font-semibold","children":"Capabilities of observable systems"}],["$","p",null,{"children":["$","p",null,{"children":"In defining \"observability\" (Chapter 1), Majors lists the following capabilities:"}]}],["$","p",null,{"children":["$","ul",null,{"children":["\n",["$","li",null,{"children":"Understand the inner workings of your application"}],"\n",["$","li",null,{"children":"Understand any system state your application may have gotten itself into, even new ones you have never seen before and couldnâ€™t have predicted"}],"\n",["$","li",null,{"children":"Understand the inner workings and system state solely by observing and interrogating with external tools"}],"\n",["$","li",null,{"children":"Understand the internal state without shipping any new custom code to handle it (because that implies you needed prior knowledge to explain it)"}],"\n"]}]}]]}],"\n",["$","p",null,{"children":"Let's look at some examples."}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"example-1-user-event","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#example-1-user-event","children":["Example 1 - User event",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/observability-points-user-event.svg","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Observability point: user interaction","src":"/images/articles/front-end-observability/observability-points-user-event.svg","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Observability point: user interaction"]}]]}]}],"\n",["$","p",null,{"children":"Suppose our front end app validates a change to a numeric field:"}],"\n",["$","p",null,{"children":["When the user edits the stake of a shareholder, we want to validate that the total of all shareholder stakes is never more than 100%. But this only applies to ",["$","em",null,{"children":"active"}]," shareholders â€“ we want to skip shareholders which have been turned off."]}],"\n",["$","p",null,{"children":"We want to make the state of our component observable."}],"\n",["$","p",null,{"children":"Let's log two structured events:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":[["$","em",null,{"children":["$","strong",null,{"children":"changeStakeValid"}]}]," - stake was valid; we'll submit a PATCH"]}],"\n",["$","li",null,{"children":[["$","em",null,{"children":["$","strong",null,{"children":"changeStakeSumError"}]}]," - stakes sum was too high; we'll show an error"]}],"\n"]}],"\n",["$","br",null,{}],"\n",["$","pre",null,{"style":{"marginTop":"2rem","marginBottom":"2rem"},"data-line":"3-9, 18-24","suppressHydrationWarning":true,"children":["$","$L9",null,{"className":"language-javascript","children":"\nconst handleClickSave = async (e) => {\n  if (othersAndThisStakesSum <= 100) {\n    captureEvent({\n      message: \"useShareholderStakeEditor/changeStakeValid\",\n      tags: event.tags,\n      contexts: {\n        [\"useShareholderStakeEditor/changeStakeValid\"]: event.data,\n      },\n    });\n\n    await patchShareholderStake({\n      id: shareholder.id,\n      stake,\n    });\n\n    refreshShareholders();\n  } else {\n    captureEvent({\n      message: \"useShareholderStakeEditor/changeStakeSumError\",\n      tags: event.tags,\n      contexts: {\n        [\"useShareholderStakeEditor/changeStakeSumError\"]: event.data,\n      },\n    });\n\n    showShareholderStakeError();\n  }\n}\n"}]}],"\n",["$","p",null,{"children":"Suppose we subsequently receive a bug report:"}],"\n",["$","blockquote",null,{"className":"inline-block my-4 p-4 pb-4 bg-stone-200 dark:bg-stone-800 border-l border-stone-400 border-l-8 *:first:pt-0","children":["\n",["$","p",null,{"children":"The user attempted to enter a 20% stake for one node, but got an error, despite the enabled nodes having a total <= 80%."}],"\n"]}],"\n",["$","p",null,{"children":"We might ask ourselves a bunch of questions:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Why didn't our \"enabled\" logic work in this case?"}],"\n",["$","li",null,{"children":"Was there a bug in the front end logic?"}],"\n",["$","li",null,{"children":"If so, how should we fix it?"}],"\n"]}],"\n",["$","p",null,{"children":"Instead of having to guess or consult various sources, wouldn't it be nice if we could more directly observe what happened?"}],"\n",["$","p",null,{"children":"Let's query Sentry for:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Events generated by this component - ",["$","$L9",null,{"children":"message:\"useShareholderStakeEditor*\""}]]}],"\n",["$","li",null,{"children":["For this user - ",["$","$L9",null,{"children":"user.id:1234"}]]}],"\n",["$","li",null,{"children":["And this company - ",["$","$L9",null,{"children":"companyId:5678"}]]}],"\n"]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-error-sentry-query.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Querying Sentry for structured events by message, user id and company id","src":"/images/articles/front-end-observability/example-stake-error-sentry-query.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Querying Sentry for structured events by message, user id and company id"]}]]}]}],"\n",["$","p",null,{"children":["We find our error event - ",["$","$L9",null,{"children":"changeStakeSumError"}],":"]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-query-results.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry query results indicating an error was logged","src":"/images/articles/front-end-observability/example-stake-sentry-query-results.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry query results indicating an error was logged"]}]]}]}],"\n",["$","p",null,{"children":"Clicking on the row reveals some interesting details:"}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-query-result-detail-tags.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry error details, showing an item with the tags shareholderId: 113 and stake: 30","src":"/images/articles/front-end-observability/example-stake-sentry-query-result-detail-tags.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry error details, showing an item with the tags shareholderId: 113 and stake: 30"]}]]}]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-query-result-detail.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry error details, showing an item (id: 112) with the word \"[Deleted]\" in its name","src":"/images/articles/front-end-observability/example-stake-sentry-query-result-detail.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry error details, showing an item (id: 112) with the word \"[Deleted]\" in its name"]}]]}]}],"\n",["$","p",null,{"children":"We see that the user was trying to set one shareholder (id: 113) to have a stake of 30%."}],"\n",["$","p",null,{"children":["However, another shareholder (id: 112), which was ",["$","$L9",null,{"children":"enabled: true"}],", had the word \"Deleted\" in its name. The presence of the word \"Deleted\" likely confused the user into thinking that its 40% stake would not included in the total."]}],"\n",["$","p",null,{"children":"Now we have enough information to propose further actions:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Solution: We could add logic that removes words like \"Deleted\" from names of shareholders, to avoid confusing the user like this in future"}],"\n",["$","li",null,{"children":"Solution: We could ask the user to disregard words like \"Deleted\" and share that knowledge with other users publicly (e.g. via Slack)"}],"\n",["$","li",null,{"children":"Investigation: We could find out why users were using the word \"Deleted\" in shareholder names; is the delete function broken?"}],"\n"]}],"\n",["$","p",null,{"children":"Notice that we don't have to ask the user questions and wait for their response, nor run the application and attempt to reproduce the error, nor query the database, nor puzzle over server-side logs."}],"\n",["$","p",null,{"children":["Rather, ",["$","strong",null,{"children":["$","em",null,{"children":"we can to go directly to the root of the problem"}]}],", observing logs generated by the specific part of the code which the user was interacting with at the time of the event."]}],"\n",["$","p",null,{"children":["Even better, by naming each logging statement uniquely and using a strict hierarchical naming convention (e.g. ",["$","$L9",null,{"children":"$${component}/${event}"}],"), we can query more broadly by component, then narrow in on the event, to locate the exact line of code which generated the event!"]}],"\n",["$","p",null,{"children":["When you think about it, observability is not all that different from the standard practice of adding ",["$","$L9",null,{"children":"console.log"}]," statements at appropriate points and debugging locallyÂ â€“ only it's more rigorous and queryable and ",["$","strong",null,{"children":["$","em",null,{"children":"we can observe production"}]}],"."]}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"example-2-http-event","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#example-2-http-event","children":["Example 2 - HTTP event",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/observability-points-http-event.svg","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Observability point: HTTP event","src":"/images/articles/front-end-observability/observability-points-http-event.svg","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Observability point: HTTP event"]}]]}]}],"\n",["$","p",null,{"children":"On saving a shareholder's stake, the front end app should refresh the list of all shareholders' stakes."}],"\n",["$","p",null,{"children":"But suppose we receive another bug report:"}],"\n",["$","blockquote",null,{"className":"inline-block my-4 p-4 pb-4 bg-stone-200 dark:bg-stone-800 border-l border-stone-400 border-l-8 *:first:pt-0","children":["\n",["$","p",null,{"children":"A user reports that the stakes did not refresh after they saved a stake."}],"\n"]}],"\n",["$","p",null,{"children":"So we ask some questions:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Why did the refresh not work?"}],"\n",["$","li",null,{"children":"Was there a problem with the PATCH request?"}],"\n",["$","li",null,{"children":"Did the front end code handling of the PATCH request fail?"}],"\n",["$","li",null,{"children":"Was there some other kind of issue?"}],"\n"]}],"\n",["$","p",null,{"children":"If we log an event on refresh, it should be easier to find out."}],"\n",["$","pre",null,{"style":"$b","data-line":"11-20, 24-33","suppressHydrationWarning":true,"children":["$","$L9",null,{"className":"language-javascript","children":"$c"}]}],"\n",["$","p",null,{"children":"As in the previous example, let's query Sentry for:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Events generated by this component - ",["$","$L9",null,{"children":"message:\"useShareholderStakeEditor*\""}]]}],"\n",["$","li",null,{"children":["For this user - ",["$","$L9",null,{"children":"user.id:1234"}]]}],"\n",["$","li",null,{"children":["And this company - ",["$","$L9",null,{"children":"companyId:5678"}]]}],"\n"]}],"\n",["$","p",null,{"children":["We find our two events - ",["$","$L9",null,{"children":"changeStakePatchCompleted"}]," and ",["$","$L9",null,{"children":"changeStakeRefreshCompleted"}]," - were both logged:"]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-update-results.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry query results, indicating that both the patch and refresh completed successfully","src":"/images/articles/front-end-observability/example-stake-sentry-update-results.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry query results, indicating that both the patch and refresh completed successfully"]}]]}]}],"\n",["$","p",null,{"children":"However, examining the refresh event, we see that the new stake value was not provided."}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-update-result-detail-refetch.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry refresh details, showing stale value for stake of id: 113","src":"/images/articles/front-end-observability/example-stake-sentry-update-result-detail-refetch.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry refresh details, showing stale value for stake of id: 113"]}]]}]}],"\n",["$","p",null,{"children":"Now we know why the stake did not refresh properly â€“ the back end is returning stale data! We'll need to discuss cache-busting with the back end developers."}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"example-3-browser-event","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#example-3-browser-event","children":["Example 3 - Browser event",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/observability-points-browser-event.svg","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Observability point: browser events","src":"/images/articles/front-end-observability/observability-points-browser-event.svg","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Observability point: browser events"]}]]}]}],"\n",["$","p",null,{"children":"For our final example, suppose the front end app should refresh the list of all shareholders' stakes periodically, e.g. every 30 seconds."}],"\n",["$","p",null,{"children":"We receive the following bug report:"}],"\n",["$","blockquote",null,{"className":"inline-block my-4 p-4 pb-4 bg-stone-200 dark:bg-stone-800 border-l border-stone-400 border-l-8 *:first:pt-0","children":["\n",["$","p",null,{"children":"A user reports after one user had modified the stakes of certain shareholders, the other users didn't see the updates until the following day."}],"\n"]}],"\n",["$","p",null,{"children":"We might ask:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Why did the auto refresh not work?"}],"\n",["$","li",null,{"children":"Was there a problem with the GET request or code handling the response?"}],"\n",["$","li",null,{"children":"Was there a Backend issue, such as a cache becoming stale?"}],"\n"]}],"\n",["$","p",null,{"children":"Let's query Sentry for observability on the auto-refresh hook:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Events generated by the hook - ",["$","$L9",null,{"children":"message:\"useShareholdersAutoRefresh*\""}]]}],"\n",["$","li",null,{"children":["For this company - ",["$","$L9",null,{"children":"companyId:5678"}]]}],"\n"]}],"\n",["$","p",null,{"children":["We find our autorefresh event - ",["$","$L9",null,{"children":"useShareholdersAutoRefresh"}]," - was logged:"]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-auto-refresh-results.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry query results, indicating that the auto refresh completed successfully","src":"/images/articles/front-end-observability/example-stake-sentry-auto-refresh-results.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry query results, indicating that the auto refresh completed successfully"]}]]}]}],"\n",["$","p",null,{"children":"And hovering over the events column, it looks like it has been running at regular intervals:"}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-auto-refresh-results-period.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry query results, indicating that the auto refresh ran many times over the last 24 hours","src":"/images/articles/front-end-observability/example-stake-sentry-auto-refresh-results-period.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry query results, indicating that the auto refresh ran many times over the last 24 hours"]}]]}]}],"\n",["$","p",null,{"children":"What could have gone wrong? Inspecting the details, we see that different values were returned for one user than for another:"}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-stake-sentry-auto-refresh-details-compare.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry event details, indicating a discrepancy between data received for two different users","src":"/images/articles/front-end-observability/example-stake-sentry-auto-refresh-details-compare.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry event details, indicating a discrepancy between data received for two different users"]}]]}]}],"\n",["$","p",null,{"children":"This indicates that the back end may be serving stale updates for some users, rather than propagating changes to all users at once."}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"tracing-with-breadcrumbs","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#tracing-with-breadcrumbs","children":["Tracing with breadcrumbs",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":["From the previous examples, you may have noticed continuity between events. For example, the user action of editing a shareholder stake generates a sequence of related events: ",["$","$L9",null,{"children":"changeStakeValid"}],", ",["$","$L9",null,{"children":"changeStakePatchCompleted"}],", ",["$","$L9",null,{"children":"changeStakeRefreshCompleted"}],"."]}],"\n",["$","p",null,{"children":"Wouldn't it be nice if we could see a sequence or \"flow\" of events together in a list?"}],"\n",["$","p",null,{"children":["Thanks to Sentry's ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://docs.sentry.io/product/issues/issue-details/breadcrumbs/","children":["breadcrumbs feature",false]}],", we can. Simply open the details of one of the events, scroll down to the Breadcrumbs section, then filter by \"Tranaction\"."]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/example-breadcrumbs-transactions.png","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Sentry event details, breadcrumbs section, listing a sequence of antecedent events","src":"/images/articles/front-end-observability/example-breadcrumbs-transactions.png","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Sentry event details, breadcrumbs section, listing a sequence of antecedent events"]}]]}]}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"querying-across-events","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#querying-across-events","children":["Querying across events",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":"With detailed structured events in place, we can form more interesting queries, proactively searching for anomalies or just simply learning more about how our system functions in production."}],"\n",["$","p",null,{"children":["For example, as we included ",["$","$L9",null,{"children":"companyId"}]," in the events concerned with shareholders, we could more generally query all events associated with that ",["$","$L9",null,{"children":"companyId"}],". More powerfully, we could query all events associated with ",["$","strong",null,{"children":["$","em",null,{"children":"any"}]}]," ",["$","$L9",null,{"children":"companyId"}],", that is, all company-related events. This could be useful if company was an important entity in our system and we wanted to prioritise fixing of errors related to that entity."]}],"\n",["$","p",null,{"children":["Or take another example â€“ querying by date and time. We could query for events with ",["$","$L9",null,{"children":"message:\"*error*\""}],", within a time of day in which users are experiencing a lot of issues. This would allow us to diagnose the cause of those issues separately from more time-independent issues."]}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"observability-and-documentation","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#observability-and-documentation","children":["Observability and documentation",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":"Documentation can be an excellent place to surface observability."}],"\n",["$","p",null,{"children":"Links to queries in a monitoring system can be placed in wiki pages, where they can be discovered by our team members or others in the organisation as needed."}],"\n",["$","p",null,{"children":"For example, from our previous example, wouldn't it be great if a new team member could not only read a textual description of Shareholder stakes, but also be linked to actual production data around this feature?"}],"\n",["$","p",null,{"children":["We could achieve this by querying Sentry for all events with ",["$","$L9",null,{"children":"message:\"*shareholderStake*\""}],", grabbing a link to that query and pasting it into a \"Shareholder stakes\" wiki page, perhaps under a heading titled \"Observability\" with a link titled \"shareholderStake events\"."]}],"\n",["$","p",null,{"children":["$","figure",null,{"className":"px-8 py-12","suppressHydrationWarning":true,"children":[["$","a",null,{"href":"/images/articles/front-end-observability/docs-observability-section.svg","target":"_blank","children":["$","$La",null,{"className":"w-auto p-2 border bg-white border-black dark:border-white dark:invert","alt":"Example: Shareholder stake feature documentation with Observability section and link to shareholderStake event query","src":"/images/articles/front-end-observability/docs-observability-section.svg","width":600,"height":400,"placeholder":"empty"}]}],["$","figcaption",null,{"className":"mt-4 text-xs leading-4","children":["â–² ","Example: Shareholder stake feature documentation with Observability section and link to shareholderStake event query"]}]]}]}],"\n",["$","p",null,{"children":"Imagine if all feature documentation was augmented with links to observability queries. This could give newcomers and experienced team members alike a boost in understanding how each of those features functions in production."}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"managing-observability-code","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#managing-observability-code","children":["Managing observability code",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":"In the interests of keeping code clean and readable, we might want to reduce the quantity and complexity of logging code."}],"\n",["$","p",null,{"children":"Some ideas:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Abstraction"}],"\n",["$","li",null,{"children":"Removal"}],"\n",["$","li",null,{"children":"Aspects"}],"\n"]}],"\n",["$","h4",null,{"className":"mt-5 font-semibold","children":"Abstraction"}],"\n",["$","p",null,{"children":"We can hide logging behind a more abstract function, to reduce its complexity and surface area."}],"\n",["$","p",null,{"children":["For example, in a React codebase, rather than directly calling ",["$","$L9",null,{"children":"captureEvent"}]," from ",["$","$L9",null,{"children":"@sentry/react"}],", we could create and consume our own custom hook, named something like ",["$","$L9",null,{"children":"useLogEvent"}]," returning a function like ",["$","$L9",null,{"children":"logEvent"}],". The hook and function could encapsulate concerns such as caching re-used data and following a hierarchical naming convention."]}],"\n",["$","h4",null,{"className":"mt-5 font-semibold","children":"Removal"}],"\n",["$","p",null,{"children":"Similar to feature flag controls, logging code could be scheduled for removal after a period of time, if the software has been working well and is considered not in need of monitoring."}],"\n",["$","p",null,{"children":"Alternately, we could comment-out logging calls or add a special flag to disable them. Developers could quickly determine that the code is not in use and skip over it."}],"\n",["$","h4",null,{"className":"mt-5 font-semibold","children":"Aspects"}],"\n",["$","p",null,{"children":["Aspect-oriented programming involves augmenting the behaviour of existing code without modifying it, typically using a declarative pattern such as ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://www.w3schools.blog/java-decorator-design-pattern","children":["decorator",false]}],". Frameworks such as ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://github.com/eclipse-aspectj/aspectj","children":["AspectJ",false]}]," are already used for logging in back end systems."]}],"\n",["$","p",null,{"children":["In front end, ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://devblogs.microsoft.com/typescript/announcing-typescript-5-0/#decorators","children":["Typescript Decorators",false]}]," may in the near future allow logging to be added in a similar, unobtrusive style."]}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"security-and-privacy","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#security-and-privacy","children":["Security and privacy",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":["A word about security â€“ sensitive data (such as ",["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://en.wikipedia.org/wiki/Personal_data","children":["personal data",false]}],") should probably be omitted from structured events, to avoid data leakage and comply with regulations."]}],"\n",["$","p",null,{"children":"The chance of sensitive data being accidentally leaked grows with increased use of logging in production (as with any other use of data production). So if your system deals with sensitive data, it's crucial to have processes in place to ensure that this data is not leaked in logs. This could be part of a code review process as well as an ongoing independent review process, likely involving examination of both code and logs."}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"conclusion","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#conclusion","children":["Conclusion",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":"Observability in software engineering is about observing the internal state of a software system during regular usage in production, typically by capturing and monitoring detailed and structured log outputs."}],"\n",["$","p",null,{"children":"While more commonly applied to distributed systems on the back end, observability can also be applied to the front end, using front end compatible tools such as Sentry to observe states generated by user, HTTP or browser events."}],"\n",["$","p",null,{"children":"Distinct from typical logging, structured events capture detailed contextual information surrounding the events and make the events queryable (e.g. with tags in Sentry) and traceable (e.g. with Breadcrumbs in Sentry)."}],"\n",["$","p",null,{"children":"Using structured data generated by production logging, we can diagnose an issue or answer an unanticipated question about the behaviour of the system. Additionally, we can proactively search for issues or anomalies by querying across events. And those queries can be integrated into documentation, where they can be discovered and accessed by engineers or other interested parties."}],"\n",["$","p",null,{"children":"Observability is a newly emerging field within software engineering, and we can't know for sure what it will look like in the future. Increasing the observability of a front end could potentially be a very worthwhile pursuit, in terms of time and cost saved, where an application is already running in production and complex issues need to be diagnosed and resolved quickly."}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"code-example","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#code-example","children":["Code example",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":"The source code for the examples mentioned in this article can be found here:"}],"\n",["$","p",null,{"children":["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://github.com/jonathanconway/observability-example-react","children":["https://github.com/jonathanconway/observability-example-react",false]}]}],"\n",["$","h3",null,{"className":"mt-5 text-3xl font-semibold","id":"further-reading","children":["$","a",null,{"className":"_=>[t,_].filter(o.isNotNil).join(\":\") relative hover:text-sky-500 text-xl font-semibold","href":"#further-reading","children":["Further reading",["$","span",null,{"className":"absolute flex top-0 items-center -left-4 bottom-0 text-stone-500 invisible group/:visible pl-4 text-sm","children":"#"}]]}]}],"\n",["$","p",null,{"children":"These resources inspired this article:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://info.honeycomb.io/observability-engineering-oreilly-book-2022","children":[["$","em",null,{"children":"Observability Engineering"}],false]}]," by Charity Majors"]}],"\n",["$","li",null,{"children":[["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"https://docs.sentry.io/platforms/javascript","children":[["$","em",null,{"children":"Sentry Browser JavaScript Docs"}],false]}]," by Sentry"]}],"\n"]}]]}]]}],null]
e:T1f62,M16.705 0.309999C18.1283 0.309999 19.3767 0.519999 20.45 0.939999C21.5233 1.33667 22.3517 1.89667 22.935 2.62C23.5417 3.32 23.845 4.10167 23.845 4.965C23.845 5.89833 23.5183 6.66833 22.865 7.275C22.235 7.88167 21.3717 8.185 20.275 8.185C19.155 8.185 18.28 7.905 17.65 7.345C17.02 6.76167 16.705 5.98 16.705 5C16.705 4.53333 16.775 4.04333 16.915 3.53C15.935 3.78667 15.06 4.3 14.29 5.07C13.5433 5.81667 13.0417 6.80833 12.785 8.045C12.645 8.745 12.575 9.375 12.575 9.935C12.575 11.195 12.925 12.1517 13.625 12.805C14.325 13.4583 15.3283 13.785 16.635 13.785C17.3817 13.785 18.0233 13.715 18.56 13.575C19.0967 13.4117 19.645 13.2017 20.205 12.945C20.6717 12.7117 21.01 12.595 21.22 12.595C21.36 12.595 21.4533 12.63 21.5 12.7C21.5467 12.7467 21.57 12.8633 21.57 13.05C21.5933 13.9133 21.2317 14.8233 20.485 15.78C19.7617 16.7133 18.7467 17.5067 17.44 18.16C16.1567 18.79 14.71 19.105 13.1 19.105C11.42 19.105 9.92667 18.8017 8.62 18.195C7.33667 17.565 6.33333 16.6783 5.61 15.535C4.91 14.3683 4.56 13.015 4.56 11.475C4.56 10.7517 4.65333 9.94667 4.84 9.06C5.47 6.16667 6.85833 3.985 9.005 2.515C11.175 1.045 13.7417 0.309999 16.705 0.309999ZM36.5147 0.484998C39.6881 0.484998 42.0214 1.12667 43.5147 2.41C45.0314 3.69333 45.7897 5.37333 45.7897 7.45C45.7897 8.15 45.6964 8.93167 45.5097 9.795C45.0664 11.7083 44.2381 13.3883 43.0247 14.835C41.8114 16.2583 40.3181 17.3667 38.5447 18.16C36.7947 18.93 34.8931 19.315 32.8397 19.315C29.5964 19.315 27.1931 18.6733 25.6297 17.39C24.0897 16.0833 23.3197 14.3567 23.3197 12.21C23.3197 11.4867 23.4131 10.6817 23.5997 9.795C24.0431 7.975 24.8831 6.365 26.1197 4.965C27.3797 3.54167 28.9081 2.445 30.7047 1.675C32.5247 0.881665 34.4614 0.484998 36.5147 0.484998ZM36.4097 3.6C35.9197 3.6 35.3947 4.04333 34.8347 4.93C34.2981 5.79333 33.6564 7.43833 32.9097 9.865C32.1631 12.2917 31.7897 13.995 31.7897 14.975C31.7897 15.4883 31.8714 15.8383 32.0347 16.025C32.1981 16.1883 32.4197 16.27 32.6997 16.27C33.1897 16.3167 33.6914 15.8967 34.2047 15.01C34.7414 14.1233 35.4064 12.3967 36.1997 9.83C36.9231 7.56667 37.2847 5.92167 37.2847 4.895C37.2847 4.405 37.2031 4.06667 37.0397 3.88C36.8997 3.69333 36.6897 3.6 36.4097 3.6ZM67.6035 14.17C67.5568 14.2633 67.5335 14.4033 67.5335 14.59C67.5335 14.7533 67.5685 14.8817 67.6385 14.975C67.7318 15.0683 67.8485 15.115 67.9885 15.115C68.2685 15.115 68.5018 14.9983 68.6885 14.765C68.8985 14.5083 69.0385 14.38 69.1085 14.38C69.2251 14.38 69.3185 14.4617 69.3885 14.625C69.4585 14.765 69.4935 14.94 69.4935 15.15C69.5168 15.8267 69.2951 16.4917 68.8285 17.145C68.3618 17.775 67.6735 18.3 66.7635 18.72C65.8768 19.1167 64.8035 19.315 63.5435 19.315C62.0035 19.315 60.7785 18.965 59.8685 18.265C58.9585 17.5417 58.4918 16.585 58.4685 15.395C58.4685 14.5317 58.6785 13.5633 59.0985 12.49L61.0235 7.45C61.1401 7.14667 61.1985 6.90167 61.1985 6.715C61.1985 6.41167 61.0935 6.17833 60.8835 6.015C60.6968 5.82833 60.4635 5.735 60.1835 5.735C59.6701 5.735 59.1801 5.98 58.7135 6.47C58.2468 6.93667 57.9085 7.52 57.6985 8.22L55.5285 15.36C55.4351 15.6167 55.3885 15.8617 55.3885 16.095C55.3885 16.375 55.4468 16.6083 55.5635 16.795C55.6801 16.9583 55.8435 17.1333 56.0535 17.32C56.2168 17.46 56.3335 17.5883 56.4035 17.705C56.4735 17.8217 56.4851 17.9617 56.4385 18.125C56.3451 18.4283 56.1235 18.65 55.7735 18.79C55.4235 18.93 54.8751 19 54.1285 19H46.1485C45.5418 19 45.1101 18.9067 44.8535 18.72C44.5735 18.51 44.4685 18.2417 44.5385 17.915C44.6318 17.635 44.8768 17.39 45.2735 17.18C45.6235 16.9933 45.9151 16.7717 46.1485 16.515C46.3818 16.2583 46.5801 15.85 46.7435 15.29L49.8585 5.175C49.9051 5.05833 49.9285 4.895 49.9285 4.685C49.9285 4.42833 49.8701 4.23 49.7535 4.09C49.6601 3.95 49.4968 3.775 49.2635 3.565C49.0301 3.37833 48.8668 3.215 48.7735 3.075C48.6801 2.935 48.6685 2.74833 48.7385 2.515C48.8785 1.97833 49.6135 1.51167 50.9435 1.115C52.2735 0.694999 53.6618 0.484998 55.1085 0.484998C56.2751 0.484998 57.1968 0.811665 57.8735 1.465C58.5501 2.095 58.8535 2.98167 58.7835 4.125C59.7401 2.74833 60.7551 1.80333 61.8285 1.29C62.9018 0.753332 64.0685 0.484998 65.3285 0.484998C66.7518 0.484998 67.8951 0.916665 68.7585 1.78C69.6451 2.64333 70.0885 3.76333 70.0885 5.14C70.0885 5.86333 69.9718 6.575 69.7385 7.275L67.6035 14.17ZM103.857 5.455C103.857 7.53167 103.134 9.655 101.687 11.825C100.241 13.995 98.4089 15.7917 96.1922 17.215C93.9989 18.615 91.8405 19.315 89.7172 19.315C88.0372 19.315 86.6139 19.0233 85.4472 18.44C84.2805 17.8567 83.5222 17.0167 83.1722 15.92C82.3089 16.97 81.3522 17.7633 80.3022 18.3C79.2522 18.8367 78.1555 19.105 77.0122 19.105C75.4255 19.105 74.1305 18.72 73.1272 17.95C72.1472 17.1567 71.6572 16.0017 71.6572 14.485C71.6572 13.6917 71.7855 12.875 72.0422 12.035L74.0022 5.175C74.0489 4.98833 74.0722 4.84833 74.0722 4.755C74.0722 4.52167 74.0139 4.32333 73.8972 4.16C73.7805 3.99667 73.6172 3.82167 73.4072 3.635C73.0572 3.33167 72.8822 3.06333 72.8822 2.83C72.8589 2.50333 73.0572 2.15333 73.4772 1.78C73.8972 1.40667 74.4805 1.10333 75.2272 0.87C75.9972 0.613332 76.8605 0.484998 77.8172 0.484998C79.3805 0.484998 80.5939 0.869999 81.4572 1.64C82.3439 2.38667 82.7872 3.36667 82.7872 4.58C82.7872 5.11667 82.6939 5.7 82.5072 6.33L80.7222 12.28C80.6289 12.6067 80.5822 12.8283 80.5822 12.945C80.5822 13.2483 80.6639 13.4817 80.8272 13.645C81.0139 13.8083 81.2589 13.89 81.5622 13.89C81.9822 13.89 82.3322 13.75 82.6122 13.47C82.9155 13.1667 83.2072 12.6883 83.4872 12.035L85.4822 5.175C85.5289 4.98833 85.5522 4.84833 85.5522 4.755C85.5522 4.52167 85.4939 4.32333 85.3772 4.16C85.2605 3.99667 85.0972 3.82167 84.8872 3.635C84.5372 3.33167 84.3622 3.06333 84.3622 2.83C84.3389 2.50333 84.5372 2.15333 84.9572 1.78C85.3772 1.40667 85.9605 1.10333 86.7072 0.87C87.4772 0.613332 88.3405 0.484998 89.2972 0.484998C90.8839 0.484998 92.1089 0.858332 92.9722 1.605C93.8355 2.35167 94.2672 3.34333 94.2672 4.58C94.2672 5.07 94.1739 5.65333 93.9872 6.33L91.7122 13.82C91.6655 13.9367 91.6422 14.1117 91.6422 14.345C91.6422 14.6483 91.7472 14.8817 91.9572 15.045C92.1672 15.2083 92.4589 15.29 92.8322 15.29C93.3455 15.29 93.9405 15.0683 94.6172 14.625C95.3172 14.1583 95.9939 13.505 96.6472 12.665C97.3239 11.8017 97.8722 10.7867 98.2922 9.62C97.3589 8.80333 96.6939 7.99833 96.2972 7.205C95.9239 6.41167 95.7372 5.595 95.7372 4.755C95.7372 3.565 96.0639 2.56167 96.7172 1.745C97.3705 0.904999 98.3155 0.484998 99.5522 0.484998C100.789 0.484998 101.816 0.928332 102.632 1.815C103.449 2.70167 103.857 3.915 103.857 5.455ZM121.979 0.484998C123.005 0.484998 123.822 0.904999 124.429 1.745C125.059 2.56167 125.374 3.68167 125.374 5.105C125.374 6.34167 125.152 7.67167 124.709 9.095C123.845 11.965 122.457 14.6717 120.544 17.215C118.654 19.7583 116.472 21.8 113.999 23.34C111.549 24.88 109.099 25.65 106.649 25.65C105.435 25.65 104.385 25.44 103.499 25.02C102.635 24.6 101.982 24.04 101.539 23.34C101.072 22.64 100.839 21.8933 100.839 21.1C100.839 20.75 100.897 20.365 101.014 19.945C101.224 19.2917 101.574 18.79 102.064 18.44C102.554 18.09 103.137 17.915 103.814 17.915C104.887 17.915 105.762 18.2767 106.439 19C107.139 19.7467 107.582 20.7617 107.769 22.045C109.262 21.975 110.639 21.3333 111.899 20.12C110.709 19.91 109.822 19.5133 109.239 18.93C108.679 18.3233 108.294 17.39 108.084 16.13L106.684 7.555C106.614 7.11167 106.509 6.80833 106.369 6.645C106.252 6.45833 106.089 6.365 105.879 6.365C105.715 6.365 105.517 6.44667 105.284 6.61C105.074 6.77333 104.922 6.855 104.829 6.855C104.642 6.855 104.549 6.65667 104.549 6.26C104.549 5.93333 104.607 5.58333 104.724 5.21C105.144 3.88 105.925 2.76 107.069 1.85C108.212 0.916666 109.542 0.449999 111.059 0.449999C112.552 0.449999 113.649 0.893332 114.349 1.78C115.072 2.66667 115.539 4.03167 115.749 5.875L116.799 13.575C116.869 14.1583 117.079 14.45 117.429 14.45C117.849 14.45 118.339 14.0767 118.899 13.33C119.459 12.56 120.007 11.475 120.544 10.075C119.844 9.445 119.307 8.72167 118.934 7.905C118.56 7.08833 118.374 6.21333 118.374 5.28C118.374 4.55667 118.467 3.90333 118.654 3.32C118.934 2.38667 119.365 1.68667 119.949 1.22C120.555 0.729999 121.232 0.484998 121.979 0.484998Z11:["slug","front-end-observability","d"]
3:[["$","div",null,{"className":"sm:absolute sm:top-0 w-full *:m-auto *:sm:w-[65rem] px-4 *:sm:px-8","children":["$","div",null,{"className":"flex flex-row pt-8 items-center justify-between","children":[["$","h1",null,{"className":"flex flex-row gap-4 items-center","children":[["$","span",null,{"className":"hidden","children":"conwy.co"}],["$","div",null,{"className":"relative h-6 hover:brightness-110 focus:brightness-110","children":["$","$Ld","undefined",{"contents":"Click to go home","style":{"backgroundColor":"var(--color-sky-300)","color":"black"},"children":["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer","href":"/","children":[["$","svg",null,{"className":"sm:-ml-1.5 dark:brightness-125 w-32 sm:w-40 pointer-events-none","viewBox":"0 0 130 34","width":"130px","fill":"none","xmlns":"http://www.w3.org/2000/svg","children":[["$","g",null,{"filter":"url(#filter0_d_327_14)","children":["$","path",null,{"d":"$e","fill":"url(#paint0_linear_327_14)"}]}],["$","defs",null,{"children":[["$","filter",null,{"id":"filter0_d_327_14","x":"0.559998","y":"0.310059","width":"128.814","height":"33.3398","filterUnits":"userSpaceOnUse","colorInterpolationFilters":"sRGB","children":[["$","feFlood",null,{"floodOpacity":"0","result":"BackgroundImageFix"}],["$","feColorMatrix",null,{"in":"SourceAlpha","type":"matrix","values":"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result":"hardAlpha"}],["$","feOffset",null,{"dy":"4"}],["$","feGaussianBlur",null,{"stdDeviation":"2"}],["$","feComposite",null,{"in2":"hardAlpha","operator":"out"}],["$","feColorMatrix",null,{"type":"matrix","values":"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}],["$","feBlend",null,{"mode":"normal","in2":"BackgroundImageFix","result":"effect1_dropShadow_327_14"}],["$","feBlend",null,{"mode":"normal","in":"SourceGraphic","in2":"effect1_dropShadow_327_14","result":"shape"}]]}],["$","linearGradient",null,{"id":"paint0_linear_327_14","x1":"101","y1":"7","x2":"101","y2":"45","gradientUnits":"userSpaceOnUse","children":[["$","stop",null,{"stopColor":"#72B9FF"}],["$","stop",null,{"offset":"1","stopColor":"#E644FF"}]]}]]}]]}],false]}]}]}]]}],["$","$Lf",null,{"children":["$","div",null,{"className":"relative flex flex-col sm:flex-row sm:gap-6 items-center sm:items-start w-40 sm:w-auto","children":[["$","$L10","/articles",{"href":"/articles","title":"Articles","selected":true}],["$","$L10","/projects",{"href":"/projects","title":"Projects","selected":false}],["$","$L10","/work",{"href":"/work","title":"Work","selected":false}],["$","$L10","/contact",{"href":"/contact","title":"Contact","selected":false}]]}]}]]}]}],["$","div",null,{"className":"mx-0 sm:ml-auto sm:mt-28 sm:w-[43rem] sm:flex sm:flex-row sm:gap-8 px-4 sm:px-8","children":["$","div",null,{"className":"w-full","children":[["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","articles","children","$11","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],["$","div",null,{"className":"sm:absolute left-0 right-0 mt-4 sm:mt-28 py-4 sm:py-10 sm:px-8 *:m-auto *:sm:w-[60rem]","children":["$","div",null,{"className":"flex flex-row items-center p-4 bg-stone-200 dark:bg-stone-800","children":[["$","div",null,{"className":"flex flex-col flex-1","children":[["$","div",null,{"className":"pt-4 first:pt-0 text-xs flex flex-row gap-2 dark:text-stone-200","children":["$","div",null,{"children":["Â© ",2024," ","Jonathan Conway"]}]}],["$","div",null,{"className":"pt-4 first:pt-0 text-xs flex flex-row gap-2 dark:text-stone-200","children":[["$","a",null,{"className":"underline","href":"https://github.com/jonathanconway/conwy_next","target":"_blank","children":"Source"}],["$","a",null,{"className":"underline","href":"https://wave.webaim.org/report#/https://conwy.co","target":"_blank","children":"WCAG"}]]}]]}],["$","div",null,{"className":"","children":["$","$L12",null,{}]}]]}]}]]}]}],["$","div",null,{"className":"hidden sm:flex sticky top-0 sm:w-72 mt-48 mr-auto pt-10 pr-8","children":"$L13"}]]
6:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"conwy - articles - front end observability"}],["$","meta","3",{"name":"description","content":"Homepage of Jonathan Conway"}],["$","link","4",{"rel":"manifest","href":"/manifest.json","crossOrigin":"use-credentials"}],["$","meta","5",{"name":"next-size-adjust"}]]
1:null
14:I[46668,["151","static/chunks/151-4f4f9e87c8c3b05f.js","617","static/chunks/617-4c75795bce0a0dd1.js","274","static/chunks/app/articles/%5Bslug%5D/layout-89be2ba3f803cf87.js"],"ArticleSidebarHeadings"]
7:null
13:["$","div",null,{"className":"\n  flex\n  flex-col\n  gap-10\n","children":[["$","$L14",null,{"articleHeadings":[{"id":"top","title":"Intro"},{"title":"Observability on the front end","id":"observability-on-the-front-end","shortTitle":"$undefined"},{"title":"Example 1 - User event","id":"example-1-user-event","shortTitle":"$undefined"},{"title":"Example 2 - HTTP event","id":"example-2-http-event","shortTitle":"$undefined"},{"title":"Example 3 - Browser event","id":"example-3-browser-event","shortTitle":"$undefined"},{"title":"Tracing with breadcrumbs","id":"tracing-with-breadcrumbs","shortTitle":"$undefined"},{"title":"Querying across events","id":"querying-across-events","shortTitle":"$undefined"},{"title":"Observability and documentation","id":"observability-and-documentation","shortTitle":"$undefined"},{"title":"Managing observability code","id":"managing-observability-code","shortTitle":"$undefined"},{"title":"Security and privacy","id":"security-and-privacy","shortTitle":"$undefined"},{"title":"Conclusion","id":"conclusion","shortTitle":"$undefined"},{"title":"Code example","id":"code-example","shortTitle":"$undefined"},{"title":"Further reading","id":"further-reading","shortTitle":"$undefined"}]}],["$","div",null,{"className":"flex flex-1 flex-col gap-2","children":[["$","h3",null,{"className":"uppercase text-stone-500 dark:text-stone-300 text-[0.6rem] sm:text-xs font-medium","children":"Related links"}],["$","div",null,{"className":"flex flex-col gap-1","children":[["$","$L8",null,{"className":"inline-block text-sky-600 dark:text-sky-300 font-medium hover:text-sky-500 hover:dark:text-sky-400 hover:underline cursor-pointer inline-flex flex-row items-center gap-1","href":"https://github.com/jonathanconway/observability-example-react","target":"_blank","children":[[["$","div",null,{"id":"$undefined","className":"relative text-inherit","style":{"width":"1rem","height":"1rem"},"children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"16","height":"16","fill":"currentColor","aria-hidden":true,"focusable":false,"className":"w-full h-full","icon":"github","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"}]}],["$","span",null,{"className":"absolute left-0 top-0 right-0 bottom-0"}]]}],["$","span",null,{"className":"text-sm","children":"Github repo"}]],["$","div",null,{"id":"$undefined","className":"relative text-inherit","style":{"width":"1rem","height":"1rem"},"children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"16","height":"16","fill":"currentColor","aria-hidden":true,"focusable":false,"className":"w-full h-full","icon":"open-in-new","viewBox":"0 -960 960 960","children":["$","path",null,{"d":"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"}]}],["$","span",null,{"className":"absolute left-0 top-0 right-0 bottom-0"}]]}]]}]]}]]}],["$","$La",null,{"className":"\n  rounded-md\n  w-96\n","src":"/images/articles/front-end-observability/main.jpg","alt":"Article main image","priority":true,"unoptimized":true,"width":100,"height":65}]]}]
